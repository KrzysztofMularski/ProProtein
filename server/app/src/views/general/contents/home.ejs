<div class="h-full w-full py-10 px-40 font-quicksand flex flex-col gap-5 text-gray-700">
    <div class="w-full bg-white rounded-xl flex flex-col px-10 py-6 shadow-xl gap-6">
        <p class="text-4xl">What's our goal?</p>
        <hr>
        <div class="flex flex-col gap-2 text-xl">
            <p>Our goal is to provide a tool for anyone who wants to make research about molecular dynamics simulations.</p>
        </div>
    </div>
    <div class="w-full bg-white rounded-xl flex flex-col px-10 py-6 shadow-xl gap-20 pb-24">
        <p class="text-4xl">How to use our website?</p>
        <div class="flex flex-col gap-20 text-3xl leading-loose">
            <div class="flex flex-row justify-between gap-4 items-center">
                <p class="text-right w-1/3 px-10">Account lets you make new projects and simulations.</p>
                <!-- <img class="w-2/3 border border-gray-300" src="images/new_project.png" alt="new project"> -->
                <!-- <img class="w-2/3 border border-gray-300" src="https://ucarecdn.com/c7a5a10c-247b-4330-bd0f-20f10b7c821f/" alt="new project"> -->
                <div id="div0" class="w-2/3 h-[400px] border border-gray-300 bg-gray-300"></div>
            </div>
            <div class="flex flex-row justify-between gap-4 items-center">
                <!-- <img class="w-2/3 border border-gray-300" src="images/selecting_demo.png" alt="selecting demo"> -->
                <!-- <img class="w-2/3 border border-gray-300" src="https://ucarecdn.com/ce5abd66-2c99-4f9e-a777-e54e2f156a65/" alt="selecting demo"> -->
                <div id="div1" class="w-2/3 h-[400px] border border-gray-300 bg-gray-300"></div>
                <p class="text-left w-1/3 px-10">Specify structure. You can use demo structure available on our server.</p>
            </div>
            <div class="flex flex-row justify-between gap-4 items-center">
                <div class="w-1/3 px-10 text-right flex flex-col gap-8">
                    <p>Define other parameters as you wish.</p>
                    <p>When everything is ready, Request your simulation.</p>
                </div>
                <!-- <img class="w-2/3 border border-gray-300" src="images/sim_params_short.png" alt="simulation parameters"> -->
                <!-- <img class="w-2/3 border border-gray-300" src="https://ucarecdn.com/2e060cfe-78b7-44f3-abfc-98b1e5fadad8/" alt="simulation parameters"> -->
                <div id="div2" class="w-2/3 h-[400px] border border-gray-300 bg-gray-300"></div>
            </div>
            <div class="flex flex-row justify-between gap-4 items-center">
                <!-- <img class="w-2/3 border border-gray-300" src="images/finished_project.png" alt="finished project"> -->
                <!-- <img class="w-2/3 border border-gray-300" src="https://ucarecdn.com/8084b6f9-3ebb-4aa0-b5a5-392c14a1a37b/" alt="finished project"> -->
                <div id="div3" class="w-2/3 h-[400px] border border-gray-300 bg-gray-300"></div>
                <div class="w-1/3 px-10 text-left flex flex-col gap-4">
                    <p>After some time, you'll be notified about finished simulation.</p>
                    <p>
                        Open results in
                        <a class="whitespace-nowrap w-min text-blue-500 no-underline hover:underline" href="https://molstar.org/">Mol*</a>
                        to see special areas.
                    </p>
                </div>
            </div>
            <div class="flex flex-row justify-between gap-4 items-center">
                <p class="text-right w-1/3 px-10">You can toggle between default view and colored view to see and analize important to you data.</p>
                <!-- <img class="w-2/3 border border-gray-300" src="images/default.png" alt="visualization default"> -->
                <!-- <img class="w-2/3 border border-gray-300" src="https://ucarecdn.com/9030c81c-c529-4ff5-96cf-ecf75ee3c0c2/" alt="visualization default"> -->
                <div id="div4" class="w-2/3 h-[400px] border border-gray-300 bg-gray-300"></div>
            </div>
            <div class="flex flex-row justify-between gap-4 items-center">
                <!-- <img class="w-2/3 border border-gray-300" src="images/colored.png" alt="visualization colored"> -->
                <!-- <img class="w-2/3 border border-gray-300" src="https://ucarecdn.com/e7d1989f-a234-484f-b66f-862923425004/" alt="visualization colored"> -->
                <div id="div5" class="w-2/3 h-[400px] border border-gray-300 bg-gray-300"></div>
                <p class="text-left w-1/3 px-10">Special areas are marked up by red.</p>
            </div>
        </div>
    </div>
    <div class="w-full bg-white rounded-xl flex flex-col px-10 py-6 shadow-xl gap-6 pb-12">
        <p class="text-4xl">How it's possible?</p>
        <hr>
        <p class="text-3xl">All of these is possible with great tools such as:</p>
        <div class="flex flex-col text-xl gap-10">
            <div class="flex flex-row gap-20 items-center">
                <a href="https://www.gromacs.org" class="w-1/3">
                    <!-- <img src="images/GROMACS.webp" alt="gromacs logo"> -->
                    <!-- <img src="https://ucarecdn.com/c8449691-1808-4e31-9c05-278b7d537018/" alt="gromacs logo"> -->
                    <div id="div6" class="w-[400px] h-[200px] bg-gray-300"></div>
                </a>
                <div class="w-2/3">
                    <p>
                        Gromacs documentation:
                        <a class="whitespace-nowrap w-min text-blue-500 no-underline hover:underline" href="https://doi.org/10.5281/zenodo.5849961">https://doi.org/10.5281/zenodo.5849961</a>
                    </p>
                    <ul class="list-disc">
                        <li><a class="whitespace-nowrap w-min text-blue-500 no-underline hover:underline" href="https://manual.gromacs.org/current/reference-manual/references.html#refbekker93a">Bekker et al. (1993)</a></li>
                        <li><a class="whitespace-nowrap w-min text-blue-500 no-underline hover:underline" href="https://manual.gromacs.org/current/reference-manual/references.html#refberendsen95a">Berendsen et al. (1995)</a></li>
                        <li><a class="whitespace-nowrap w-min text-blue-500 no-underline hover:underline" href="https://manual.gromacs.org/current/reference-manual/references.html#reflindahl2001a">Lindahl et al. (2001)</a></li>
                        <li><a class="whitespace-nowrap w-min text-blue-500 no-underline hover:underline" href="https://manual.gromacs.org/current/reference-manual/references.html#refspoel2005a">van der Spoel at al. (2005)</a></li>
                        <li><a class="whitespace-nowrap w-min text-blue-500 no-underline hover:underline" href="https://manual.gromacs.org/current/reference-manual/references.html#refhess2008b">Hess et al. (2008)</a></li>
                        <li><a class="whitespace-nowrap w-min text-blue-500 no-underline hover:underline" href="https://manual.gromacs.org/current/reference-manual/references.html#refpronk2013">Pronk et al. (2013)</a></li>
                        <li><a class="whitespace-nowrap w-min text-blue-500 no-underline hover:underline" href="https://manual.gromacs.org/current/reference-manual/references.html#refpall2015">Pall et al. (2015)</a></li>
                        <li><a class="whitespace-nowrap w-min text-blue-500 no-underline hover:underline" href="https://manual.gromacs.org/current/reference-manual/references.html#refabraham2015">Abraham et al. (2015)</a></li>
                    </ul>
                </div>
            </div>
            <div class="flex flex-row gap-20 items-center">
                <a href="https://molstar.org/" class="w-1/3">
                    <!-- <img src="images/molstar-logo.png" alt="molstar logo"> -->
                    <!-- <img src="https://ucarecdn.com/3b9a51a5-6793-40ef-a990-be9e84fa1948/" alt="molstar logo"> -->
                    <div id="div7" class="w-[400px] h-[200px] bg-gray-300"></div>
                </a>
                <p class="w-2/3">
                    David Sehnal, Sebastian Bittrich, Mandar Deshpande, Radka Svobodová, Karel Berka, Václav Bazgier, Sameer Velankar, Stephen K Burley, Jaroslav Koča, Alexander S Rose:
                    <a class="w-min text-blue-500 no-underline hover:underline" href="https://doi.org/10.1093/nar/gkab314">Mol* Viewer: modern web app for 3D visualization and analysis of large biomolecular structures</a>
                    , Nucleic Acids Research, 2021;
                    <a class="w-min text-blue-500 no-underline hover:underline" href="https://doi.org/10.1093/nar/gkab314">https://doi.org/10.1093/nar/gkab314</a>
                    .
                </p>
            </div>
        </div>
    </div>
    <div class="w-full bg-white rounded-xl flex flex-col px-10 py-6 shadow-xl gap-6">
        <p class="text-4xl">Who are we?</p>
        <hr>
        <div class="flex flex-col text-xl gap-4 mb-4">
            <p>When using ProProtein, please cite:</p>
            <p>Daria Głębowska, Dawid Makałowski, Krzysztof Mularski, Marcin Okonek, <span class="whitespace-nowrap">dr hab. inż. Aleksandra Świercz</span>, <span class="whitespace-nowrap">dr hab. inż. Maciej Antczak</span>: ProProtein: Web service for making and visualizing molecular dynamics simulations which speeds up conducting research, Engineering Thesis, Politechnika Poznańska, WIiT, 2022.</p>
            <p>This project wouldn't be possible without great help and support from our thesis supervisor <span class="whitespace-nowrap">dr hab. inż. Aleksandra Świercz</span>.</p>
            <p>Special thanks to <span class="whitespace-nowrap">dr hab. inż. Maciej Antczak</span> for inspiration and interesting ideas.</p>
        </div>
    </div>
</div>

<script>
    const options = {
        root: null,
        rootMargins: "0px",
        threshold: 0
    }

    let done = Array(10).fill(false);
    let observers = done.map(x => null);

    document.addEventListener("DOMContentLoaded", () => {
        pullImagesData();
        for (let i=0; i<8; i++) {
            observers[i] = new IntersectionObserver(entries => handleIntersect(entries, i), options);
            observers[i].observe(document.getElementById(`div${i}`));
            // console.log(`div${i}`)
        }
    })

    let images = [];

    const pullImagesData = async () => {
        const response = await fetch(
            "https://ucarecdn.com/48dad733-8279-41dd-9bc6-34d3b06d7a92/"
        );
        const imgs = await response.json();
        images = imgs.images;
    };    

    const putImage = divId => {
        if (images[divId] === undefined) {
            return setTimeout(() => {
                return putImage(divId)
            }, 50)
        }
        const image = document.createElement('img');
        image.src = images[divId].link;
        image.alt = images[divId].name;
        const div = document.getElementById(`div${divId}`);
        div.classList.remove('h-[400px]', 'w-[400px]', 'h-[200px]', 'bg-gray-300');
         
        div.appendChild(image);
        // console.log(`loaded div ${divId}`)
    }

    const handleIntersect = (entries, divId) => {
        if (entries[0].isIntersecting && !done[divId]) {
            putImage(divId);
            done[divId] = true;
        }
    }

</script>